!function(){"use strict";function e(e){if("undefined"==typeof e)return"";var r="",t=0;for(var o in e)r+=0===t?o+"="+e[o]:"&"+(o+"="+e[o]),t++;return r}if("undefined"===ko)throw new Error("Knockout.js is not present!");ko.rest={version:"1.0.0",isUndefined:function(e){return"undefined"==typeof e},isFunction:function(e){return"function"==typeof e},isObject:function(e){return"object"==typeof e}},ko.rest.get=function(e,r){var t=ko.utils.unwrapObservable(e);return t[r]},ko.rest.service=function(e){var r=function(e){this.url=e};return r.prototype.query=function(e,r,t){ko.rest.isUndefined(t)&&(t=function(e){console.log(e)});var o=this;return ko.rest.isUndefined(e)||ko.rest.isFunction(e)?(r=e,void ko.rest.requester({method:"GET",url:o.url,data:{},success:r,error:t,type:"json"})):void ko.rest.requester({method:"GET",url:o.url,data:e,success:r,error:t,type:"json"})},r.prototype.load=function(e,r,t){ko.rest.isUndefined(t)&&(t=function(e){console.log(e)});var o=this,n=o.url+"/"+e;ko.rest.requester({method:"GET",url:n,data:{},success:r,error:t,type:"json"})},r.prototype.save=function(e,r,t){if(ko.rest.isUndefined(e)||ko.rest.isFunction(e))throw new Error("Data object parameter is required.");ko.rest.isUndefined(t)&&(t=function(e){console.log(e)});var o=this;ko.rest.requester({method:"POST",url:o.url,data:e,success:r,error:t,type:"json"})},r.prototype.update=function(e,r,t){if(ko.rest.isUndefined(e)||ko.rest.isFunction(e))throw new Error("Data object parameter is required.");if(ko.rest.isUndefined(t)&&(t=function(e){console.log(e)}),!e.hasOwnProperty("id"))throw new Error("Object provided has no property 'id'.");var o=e.id,n=e,s=this.url+"/"+o;ko.rest.requester({method:"PUT",url:s,data:n,success:r,error:t,type:"json"})},r.prototype.delete=function(e,r,t){ko.rest.isUndefined(t)&&(t=function(e){console.log(e)});var o=this;if(ko.rest.isUndefined(e))throw new Error("'id' parameter was not specified.");var n=o.url+"/"+e;ko.rest.requester({method:"DELETE",url:n,data:{},success:r,error:t,type:"json"})},new r(e)},ko.rest.xhr=function(){try{return new XMLHttpRequest}catch(e){}},ko.rest.requester=function(r){if(ko.rest.isUndefined(r.type)&&(r.type="html"),!ko.rest.isUndefined(window.jQuery))return void $.ajax({url:r.url,cache:!1,data:r.data,type:r.method,dataType:r.type}).done(r.success).fail(r.error);var t=ko.rest.xhr();t.onload=function(){if("json"===r.type){var e=JSON.parse(this.responseText);r.success(e)}else r.success(this.responseText)},t.onerror=function(){if("json"===r.type){var e=JSON.parse(this.responseText);r.error(e)}else r.error(this.responseText)};var o=e(r.data);ko.rest.isUndefined(o)||""===o||(r.url=r.url+"?"+o),t.open(r.method,r.url,!0),"GET"===r.method?t.send(null):(t.setRequestHeader("Content-Type","application/json"),t.send(JSON.stringify(r.data)))}}();